{"ast":null,"code":"var _jsxFileName = \"/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/posts/postList.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getAllCategories } from \"../../managers/CategoryManager\";\nimport { getAllPosts, getPostsByCategory, getPostsByTag, getPostsByTitle, getPostsByUser } from \"../../managers/PostManager\";\nimport { getAllTags } from \"../../managers/TagManager\";\nimport { getAllUsers } from \"../../managers/UserManager\";\nimport { PostsTable } from \"./PostsTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PostList = () => {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [filteredPosts, setFiltered] = useState([]);\n  const [chosenCat, setChosenCategory] = useState(0);\n  const [categoryList, setCategories] = useState([]);\n  const [chosenUser, setChosenUser] = useState(0);\n  const [userList, setUsers] = useState([]);\n  const [searchTerms, setSearchTerms] = useState(\"\");\n  const [chosenTag, setChosenTag] = useState(0);\n  const [tagList, setTagList] = useState([]);\n\n  const loadPosts = () => getAllPosts().then(data => setPosts(data));\n\n  const loadUsers = () => getAllUsers().then(data => setUsers(data));\n\n  const loadCategories = () => getAllCategories().then(data => setCategories(data));\n\n  const loadTags = () => getAllTags().then(data => setTagList(data));\n\n  useEffect(() => {\n    loadPosts();\n    loadUsers();\n    loadCategories();\n    loadTags();\n  }, []);\n  useEffect(() => {\n    if (chosenCat === 0) {\n      setFiltered(posts);\n    } else {\n      getPostsByCategory(chosenCat).then(data => {\n        setFiltered(data);\n      });\n    }\n  }, [chosenCat, posts]);\n  useEffect(() => {\n    if (chosenTag === 0) {\n      setFiltered(posts);\n    } else {\n      getPostsByTag(chosenTag).then(data => {\n        setFiltered(data);\n      });\n    }\n  }, [chosenTag, posts]);\n  useEffect(() => {\n    if (chosenUser === 0) {\n      setFiltered(posts);\n    } else {\n      getPostsByUser(chosenUser).then(data => {\n        setFiltered(data);\n      });\n    }\n  }, [chosenUser, posts]);\n  useEffect(() => {\n    if (searchTerms !== \"\") {\n      getPostsByTitle(searchTerms).then(data => setFiltered(data));\n    } else {\n      setFiltered(posts);\n    }\n  }, [searchTerms, posts]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section\",\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"panel is-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"panel-heading\",\n        children: \"Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"categoryFilter\",\n        onChange: event => {\n          let chosenCategory = event.target.value;\n          setChosenCategory(parseInt(chosenCategory));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"0\",\n          children: \"Filter by Category...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), categoryList.map(category => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: `${category.id}`,\n            children: category.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"userFilter\",\n        onChange: event => {\n          let chosen = event.target.value;\n          setChosenUser(parseInt(chosen));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"0\",\n          children: \"Filter by User...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), userList.map(user => {\n          var _user$user;\n\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: `${user.id}`,\n            children: user === null || user === void 0 ? void 0 : (_user$user = user.user) === null || _user$user === void 0 ? void 0 : _user$user.first_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"tagFilter\",\n        onChange: event => {\n          let chosenT = event.target.value;\n          setChosenTag(parseInt(chosenT));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"0\",\n          children: \"Filter by Tag...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }, this), tagList.map(tag => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: `${tag.id}`,\n            children: tag.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchBar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Input Title or Keyword...\",\n          onChange: changeEvent => {\n            let search = changeEvent.target.value;\n            setSearchTerms(search);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-block\",\n        children: /*#__PURE__*/_jsxDEV(PostsTable, {\n          posts: filteredPosts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 10\n  }, this);\n};\n\n_s(PostList, \"0IQhwQp4qtD6EXBG8n8nloP5QC0=\");\n\n_c = PostList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostList\");","map":{"version":3,"names":["useEffect","useState","getAllCategories","getAllPosts","getPostsByCategory","getPostsByTag","getPostsByTitle","getPostsByUser","getAllTags","getAllUsers","PostsTable","PostList","posts","setPosts","filteredPosts","setFiltered","chosenCat","setChosenCategory","categoryList","setCategories","chosenUser","setChosenUser","userList","setUsers","searchTerms","setSearchTerms","chosenTag","setChosenTag","tagList","setTagList","loadPosts","then","data","loadUsers","loadCategories","loadTags","event","chosenCategory","target","value","parseInt","map","category","id","label","chosen","user","first_name","chosenT","tag","changeEvent","search"],"sources":["/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/posts/postList.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { getAllCategories } from \"../../managers/CategoryManager\"\nimport { getAllPosts, getPostsByCategory, getPostsByTag, getPostsByTitle, getPostsByUser } from \"../../managers/PostManager\"\nimport { getAllTags } from \"../../managers/TagManager\"\nimport { getAllUsers } from \"../../managers/UserManager\"\nimport { PostsTable } from \"./PostsTable\"\n\n\nexport const PostList = () => {\n  const [posts, setPosts] = useState([])\n  const [filteredPosts, setFiltered] = useState([])\n  const [chosenCat, setChosenCategory] = useState(0)\n  const [categoryList, setCategories] = useState([])\n  const [chosenUser, setChosenUser] = useState(0)\n  const [userList, setUsers] = useState([])\n  const [searchTerms, setSearchTerms] = useState(\"\")\n  const [chosenTag, setChosenTag] = useState(0)\n  const [tagList, setTagList] = useState([])\n\n  const loadPosts = () => getAllPosts().then(data => setPosts(data))\n  const loadUsers = () => getAllUsers().then(data => setUsers(data))\n  const loadCategories = () => getAllCategories().then(data => setCategories(data))\n  const loadTags = () => getAllTags().then(data => setTagList(data))\n\n  useEffect(() => {\n    loadPosts()\n    loadUsers()\n    loadCategories()\n    loadTags()\n  }, [])\n\n  useEffect(\n    () => {\n        if(chosenCat === 0) {\n            setFiltered(posts)\n        }\n        else {\n            getPostsByCategory(chosenCat)\n                .then((data) => {\n                    setFiltered(data)\n                })\n        }\n    },\n    [chosenCat, posts]\n)\n\nuseEffect(\n  () => {\n      if(chosenTag === 0) {\n          setFiltered(posts)\n      }\n      else {\n          getPostsByTag(chosenTag)\n              .then((data) => {\n                  setFiltered(data)\n              })\n      }\n  },\n  [chosenTag, posts]\n)\n\nuseEffect(\n    () => {\n        if(chosenUser === 0) {\n            setFiltered(posts)\n        }\n        else {\n            getPostsByUser(chosenUser)\n                .then((data) => {\n                    setFiltered(data)\n                })\n        }\n    },\n    [chosenUser, posts]\n)\n\nuseEffect(\n    () => {\n        if (searchTerms !== \"\") {\n            getPostsByTitle(searchTerms).then(data => setFiltered(data))\n        } \n        else {\n            setFiltered(posts)\n        }\n    },\n    [searchTerms, posts]\n)\n\n  return <section className=\"section\">\n    <article className=\"panel is-info\">\n      <p className=\"panel-heading\">\n        Posts\n      </p>\n\n      <select className=\"categoryFilter\" onChange={(event) => {\n                            let chosenCategory = event.target.value\n                            setChosenCategory(parseInt(chosenCategory))\n                        }}>\n        <option value=\"0\">Filter by Category...</option>\n        {categoryList.map(category => {\n            return <option value={`${category.id}`}>{category.label}</option>\n        })}\n            </select>\n            <select className=\"userFilter\" onChange={(event) => {\n                            let chosen = event.target.value\n                            setChosenUser(parseInt(chosen))\n                        }}>\n        <option value=\"0\">Filter by User...</option>\n        {userList.map(user => {\n            return <option value={`${user.id}`}>{user?.user?.first_name}</option>\n        })}\n            </select>\n        <select className=\"tagFilter\" onChange={(event) => {\n                            let chosenT = event.target.value\n                            setChosenTag(parseInt(chosenT))\n                        }}>\n        <option value=\"0\">Filter by Tag...</option>\n        {tagList.map(tag => {\n            return <option value={`${tag.id}`}>{tag.label}</option>\n        })}\n            </select>\n        <div className=\"searchBar\">\n            <input \n                type=\"text\" \n                placeholder=\"Input Title or Keyword...\"\n                onChange={\n                    (changeEvent) => {\n                        let search = changeEvent.target.value\n                        setSearchTerms(search)\n                    }\n                }\n                />\n        </div>\n\n      <div className=\"panel-block\">\n        <PostsTable posts={filteredPosts} />\n      </div>\n    </article>\n  </section>\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}