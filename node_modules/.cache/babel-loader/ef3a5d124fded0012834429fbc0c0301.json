{"ast":null,"code":"var _jsxFileName = \"/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/comments/CommentList.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { deleteComment, getCommentsByPostId } from '../../managers/CommentManager';\nimport { FaTrashAlt, FaUserCircle, FaEdit } from 'react-icons/fa';\nimport { getAllUsers } from \"../../managers/UserManager\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CommentsList = _ref => {\n  _s();\n\n  let {\n    userId\n  } = _ref;\n  const [comments, setComments] = useState([]);\n  const {\n    postId\n  } = useParams();\n  let Navigate = useNavigate();\n  let [users, setUsers] = useState([]);\n  const loadComments = useCallback(() => {\n    getCommentsByPostId(postId).then(commentsData => {\n      setComments(commentsData);\n    });\n  }, [postId]);\n  useEffect(() => {\n    loadComments();\n  }, [loadComments]);\n  useEffect(() => {\n    getAllUsers().then(data => setUsers(data));\n  }, []);\n\n  const handleDelete = id => {\n    deleteComment(id).then(() => {\n      loadComments();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section\",\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"panel is-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"panel-heading\",\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), comments.map(comment => {\n        var _comment$author, _comment$author2;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-block\",\n          children: /*#__PURE__*/_jsxDEV(\"article\", {\n            className: \"media is-flex-grow-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n              className: \"media-left\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-large\",\n                children: /*#__PURE__*/_jsxDEV(FaUserCircle, {\n                  size: '3rem'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-content\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [(_comment$author = comment.author) === null || _comment$author === void 0 ? void 0 : _comment$author.user.first_name, \" \", (_comment$author2 = comment.author) === null || _comment$author2 === void 0 ? void 0 : _comment$author2.user.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 21\n                  }, this), comment.content]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), parseInt(userId) === comment.author_id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"media-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon\",\n                children: /*#__PURE__*/_jsxDEV(FaEdit, {\n                  onClick: () => Navigate(`/posts/${postId}/comments/${comment.id}/edit`)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon\",\n                children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {\n                  onClick: () => handleDelete(comment.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: users.map(user => {\n                var _user$user;\n\n                if (parseInt(userId) === user.id && (user === null || user === void 0 ? void 0 : (_user$user = user.user) === null || _user$user === void 0 ? void 0 : _user$user.is_staff) === true) {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"media-right\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon\",\n                      children: /*#__PURE__*/_jsxDEV(FaEdit, {\n                        onClick: () => Navigate(`/posts/${postId}/comments/${comment.id}/edit`)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 77,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"icon\",\n                      children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {\n                        onClick: () => handleDelete(comment.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 34\n                  }, this);\n                }\n              })\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, comment.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 18\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 10\n  }, this);\n};\n\n_s(CommentsList, \"Eyygc+dxL83673WTCYrruUiEDuM=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = CommentsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentsList\");","map":{"version":3,"names":["useCallback","useEffect","useState","useNavigate","useParams","deleteComment","getCommentsByPostId","FaTrashAlt","FaUserCircle","FaEdit","getAllUsers","CommentsList","userId","comments","setComments","postId","Navigate","users","setUsers","loadComments","then","commentsData","data","handleDelete","id","map","comment","author","user","first_name","last_name","content","parseInt","author_id","is_staff"],"sources":["/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/comments/CommentList.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { deleteComment, getCommentsByPostId } from '../../managers/CommentManager' \nimport { FaTrashAlt, FaUserCircle, FaEdit } from 'react-icons/fa';\nimport { getAllUsers } from \"../../managers/UserManager\";\n\n\nexport const CommentsList = ({ userId }) => {\n  const [comments, setComments] = useState([])\n  const { postId } = useParams()\n  let Navigate = useNavigate()\n  let [users, setUsers] = useState([])\n\n  const loadComments = useCallback(() => {\n    getCommentsByPostId(postId).then((commentsData) => {\n      setComments(commentsData)\n    })\n  }, [postId])\n  \n  useEffect(() => {\n    loadComments()\n  }, [loadComments])\n\n  useEffect(\n    () => {\n      getAllUsers().then(data => setUsers(data))\n    }, []\n  )\n\n  const handleDelete = (id) => {\n    deleteComment(id).then(() => {\n      loadComments()\n    })\n  }\n\n  return <section className=\"section\">\n    <article className=\"panel is-info\">\n      <p className=\"panel-heading\">\n        Comments\n      </p>\n      {\n        comments.map(comment => {\n          return <div className=\"panel-block\" key={comment.id}>\n            <article className=\"media is-flex-grow-1\">\n              <figure className=\"media-left\">\n                <span className=\"icon is-large\">\n                  <FaUserCircle size={'3rem'} />\n                </span>\n              </figure>\n              <div className=\"media-content\">\n                <div className=\"content\">\n                  <p>\n                    <strong>{comment.author?.user.first_name} {comment.author?.user.last_name}</strong>\n                    <br />\n                    {comment.content}\n                  </p>\n                </div>\n\n              </div>\n              {\n                parseInt(userId) === comment.author_id ?\n                  <div className=\"media-right\">\n                    <span className=\"icon\">\n                      <FaEdit onClick={(() => Navigate(`/posts/${postId}/comments/${comment.id}/edit`))} />\n                    </span>\n                    <span className=\"icon\">\n                      <FaTrashAlt onClick={() => handleDelete(comment.id)} />\n                    </span>\n                  </div>\n                  :\n                  <>\n                  {\n                    users.map(user => {\n                      if (parseInt(userId) === user.id && user?.user?.is_staff === true) {\n                          return <div className=\"media-right\">\n                          <span className=\"icon\">\n                            <FaEdit onClick={(() => Navigate(`/posts/${postId}/comments/${comment.id}/edit`))} />\n                          </span>\n                          <span className=\"icon\">\n                            <FaTrashAlt onClick={() => handleDelete(comment.id)} />\n                          </span>\n                        </div>\n                      }\n                    })\n                  }</>\n              }\n            </article>\n          </div>\n        })\n      }\n    </article>\n  </section>\n}\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,aAAT,EAAwBC,mBAAxB,QAAmD,+BAAnD;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,MAAnC,QAAiD,gBAAjD;AACA,SAASC,WAAT,QAA4B,4BAA5B;;;AAGA,OAAO,MAAMC,YAAY,GAAG,QAAgB;EAAA;;EAAA,IAAf;IAAEC;EAAF,CAAe;EAC1C,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM;IAAEa;EAAF,IAAaX,SAAS,EAA5B;EACA,IAAIY,QAAQ,GAAGb,WAAW,EAA1B;EACA,IAAI,CAACc,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAhC;EAEA,MAAMiB,YAAY,GAAGnB,WAAW,CAAC,MAAM;IACrCM,mBAAmB,CAACS,MAAD,CAAnB,CAA4BK,IAA5B,CAAkCC,YAAD,IAAkB;MACjDP,WAAW,CAACO,YAAD,CAAX;IACD,CAFD;EAGD,CAJ+B,EAI7B,CAACN,MAAD,CAJ6B,CAAhC;EAMAd,SAAS,CAAC,MAAM;IACdkB,YAAY;EACb,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIAlB,SAAS,CACP,MAAM;IACJS,WAAW,GAAGU,IAAd,CAAmBE,IAAI,IAAIJ,QAAQ,CAACI,IAAD,CAAnC;EACD,CAHM,EAGJ,EAHI,CAAT;;EAMA,MAAMC,YAAY,GAAIC,EAAD,IAAQ;IAC3BnB,aAAa,CAACmB,EAAD,CAAb,CAAkBJ,IAAlB,CAAuB,MAAM;MAC3BD,YAAY;IACb,CAFD;EAGD,CAJD;;EAMA,oBAAO;IAAS,SAAS,EAAC,SAAnB;IAAA,uBACL;MAAS,SAAS,EAAC,eAAnB;MAAA,wBACE;QAAG,SAAS,EAAC,eAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAKIN,QAAQ,CAACY,GAAT,CAAaC,OAAO,IAAI;QAAA;;QACtB,oBAAO;UAAK,SAAS,EAAC,aAAf;UAAA,uBACL;YAAS,SAAS,EAAC,sBAAnB;YAAA,wBACE;cAAQ,SAAS,EAAC,YAAlB;cAAA,uBACE;gBAAM,SAAS,EAAC,eAAhB;gBAAA,uBACE,QAAC,YAAD;kBAAc,IAAI,EAAE;gBAApB;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QADF,eAME;cAAK,SAAS,EAAC,eAAf;cAAA,uBACE;gBAAK,SAAS,EAAC,SAAf;gBAAA,uBACE;kBAAA,wBACE;oBAAA,8BAASA,OAAO,CAACC,MAAjB,oDAAS,gBAAgBC,IAAhB,CAAqBC,UAA9B,2BAA2CH,OAAO,CAACC,MAAnD,qDAA2C,iBAAgBC,IAAhB,CAAqBE,SAAhE;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QADF,eAEE;oBAAA;oBAAA;oBAAA;kBAAA,QAFF,EAGGJ,OAAO,CAACK,OAHX;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QANF,EAiBIC,QAAQ,CAACpB,MAAD,CAAR,KAAqBc,OAAO,CAACO,SAA7B,gBACE;cAAK,SAAS,EAAC,aAAf;cAAA,wBACE;gBAAM,SAAS,EAAC,MAAhB;gBAAA,uBACE,QAAC,MAAD;kBAAQ,OAAO,EAAG,MAAMjB,QAAQ,CAAE,UAASD,MAAO,aAAYW,OAAO,CAACF,EAAG,OAAzC;gBAAhC;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAIE;gBAAM,SAAS,EAAC,MAAhB;gBAAA,uBACE,QAAC,UAAD;kBAAY,OAAO,EAAE,MAAMD,YAAY,CAACG,OAAO,CAACF,EAAT;gBAAvC;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA,QAJF;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,gBAUE;cAAA,UAEEP,KAAK,CAACQ,GAAN,CAAUG,IAAI,IAAI;gBAAA;;gBAChB,IAAII,QAAQ,CAACpB,MAAD,CAAR,KAAqBgB,IAAI,CAACJ,EAA1B,IAAgC,CAAAI,IAAI,SAAJ,IAAAA,IAAI,WAAJ,0BAAAA,IAAI,CAAEA,IAAN,0DAAYM,QAAZ,MAAyB,IAA7D,EAAmE;kBAC/D,oBAAO;oBAAK,SAAS,EAAC,aAAf;oBAAA,wBACP;sBAAM,SAAS,EAAC,MAAhB;sBAAA,uBACE,QAAC,MAAD;wBAAQ,OAAO,EAAG,MAAMlB,QAAQ,CAAE,UAASD,MAAO,aAAYW,OAAO,CAACF,EAAG,OAAzC;sBAAhC;wBAAA;wBAAA;wBAAA;sBAAA;oBADF;sBAAA;sBAAA;sBAAA;oBAAA,QADO,eAIP;sBAAM,SAAS,EAAC,MAAhB;sBAAA,uBACE,QAAC,UAAD;wBAAY,OAAO,EAAE,MAAMD,YAAY,CAACG,OAAO,CAACF,EAAT;sBAAvC;wBAAA;wBAAA;wBAAA;sBAAA;oBADF;sBAAA;sBAAA;sBAAA;oBAAA,QAJO;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QAAP;gBAQH;cACF,CAXD;YAFF,iBA3BN;UAAA;YAAA;YAAA;YAAA;UAAA;QADK,GAAkCE,OAAO,CAACF,EAA1C;UAAA;UAAA;UAAA;QAAA,QAAP;MA8CD,CA/CD,CALJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADK;IAAA;IAAA;IAAA;EAAA,QAAP;AAyDD,CArFM;;GAAMb,Y;UAEQP,S,EACJD,W;;;KAHJQ,Y"},"metadata":{},"sourceType":"module"}