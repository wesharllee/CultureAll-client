{"ast":null,"code":"var _jsxFileName = \"/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/posts/PostsTable.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PostsTable = _ref => {\n  _s();\n\n  let {\n    posts,\n    deleteClickEvent\n  } = _ref;\n  let navigate = useNavigate();\n  const [staff, setStaff] = useState(false);\n  useEffect(() => {\n    let isStaff = localStorage.getItem(\"is_staff\");\n    setStaff(isStaff);\n  }, []);\n  let count = 0;\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"table is-fullwidth\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Publication Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: [posts.map(post => {\n        if ((post === null || post === void 0 ? void 0 : post.approved) !== false) {\n          var _post$category;\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/posts/${post.id}`,\n                children: post.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: post.publication_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: (_post$category = post.category) === null || _post$category === void 0 ? void 0 : _post$category.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: deleteClickEvent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button is-warning\",\n                  onClick: () => navigate(`/posts/${post.id}/edit`),\n                  children: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 36,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button is-danger\",\n                  onClick: () => {\n                    deleteClickEvent(post.id);\n                  },\n                  children: \"delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 37,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 13\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 18\n          }, this);\n        } else {\n          if (staff === 'true') {\n            var _post$category2;\n\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/posts/${post.id}`,\n                  children: post.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: post.publication_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: (_post$category2 = post.category) === null || _post$category2 === void 0 ? void 0 : _post$category2.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  fontStyle: \"italic\"\n                },\n                children: \"Needs Approval\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: deleteClickEvent ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"button is-warning\",\n                    onClick: () => navigate(`/posts/${post.id}/edit`),\n                    children: \"edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"button is-danger\",\n                    onClick: () => {\n                      deleteClickEvent(post.id);\n                    },\n                    children: \"delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 15\n              }, this)]\n            }, post.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 22\n            }, this);\n          } else {\n            count++;\n          }\n        }\n      }), count === 0 ? \"\" : /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [\"You have \", count, \" post(s) awaiting approval.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n};\n\n_s(PostsTable, \"fkaAOQxQMGfgURajhTqjSVOveno=\", false, function () {\n  return [useNavigate];\n});\n\n_c = PostsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostsTable\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","PostsTable","posts","deleteClickEvent","navigate","staff","setStaff","isStaff","localStorage","getItem","count","map","post","approved","id","title","publication_date","category","label","fontStyle"],"sources":["/Users/wesleyharllee/workspace/rare-v2-client/rare-client-v2-team-2/src/components/posts/PostsTable.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Link, useNavigate } from \"react-router-dom\"\n\nexport const PostsTable = ({ posts, deleteClickEvent }) => {\n  let navigate = useNavigate()\n  const [staff, setStaff] = useState(false)\n\n  useEffect(() => {\n    let isStaff=localStorage.getItem(\"is_staff\")\n    setStaff(isStaff)\n  }, [])\n\n  let count = 0\n\n  return <table className=\"table is-fullwidth\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Publication Date</th>\n        <th>Category</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      {\n        posts.map(post => {\n          if(post?.approved !== false) {\n          return <tr key={post.id}>\n            <td><Link to={`/posts/${post.id}`}>{post.title}</Link></td>\n            <td>{post.publication_date}</td>\n            <td>{post.category?.label}</td>\n            <td>\n              {\n                deleteClickEvent ?\n                  <div className=\"buttons\">\n                    <button className=\"button is-warning\" onClick={() => navigate(`/posts/${post.id}/edit`)}>edit</button>\n                    <button className=\"button is-danger\" onClick={() => { deleteClickEvent(post.id) }}>delete</button>\n                  </div> : <></>\n              }\n            </td>\n          </tr> \n          }\n          else {\n            if(staff === 'true') {\n              return <tr key={post.id}>\n              <td><Link to={`/posts/${post.id}`}>{post.title}</Link></td>\n              <td>{post.publication_date}</td>\n              <td>{post.category?.label}</td>\n              <td style={{fontStyle: \"italic\"}}>Needs Approval</td>\n              <td>\n                {\n                  deleteClickEvent ?\n                    <div className=\"buttons\">\n                      <button className=\"button is-warning\" onClick={() => navigate(`/posts/${post.id}/edit`)}>edit</button>\n                      <button className=\"button is-danger\" onClick={() => { deleteClickEvent(post.id) }}>delete</button>\n                    </div> : <></>\n                }\n              </td>\n          </tr>\n            }\n            else {\n              count++\n            }\n          }\n        })\n      }\n      {count === 0 ? \"\" : <td>You have {count} post(s) awaiting approval.</td>}\n    </tbody>\n  </table>\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}